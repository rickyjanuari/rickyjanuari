import{S as y,i as C,s as b,_ as w,e as u,w as P,k as S,c as m,a as d,x as D,d as _,m as E,b as p,g as j,H as g,y as q,Q as z,R as I,T as M,q as h,o as v,B as R,v as V}from"../../chunks/vendor-b62d7b9b.js";import{S as $}from"../../chunks/Sidebar-8b7ed7f7.js";import{p as k,a as A}from"../../chunks/navigation-53ece758.js";import"../../chunks/TagList-bde82414.js";import"../../chunks/singletons-d1fb5791.js";function B(l){let t,o,r,i,a;r=new $({props:{recentPosts:l[0],allCategories:l[1]}});const c=l[3].default,e=w(c,l,l[2],null);return{c(){t=u("div"),o=u("div"),P(r.$$.fragment),i=S(),e&&e.c(),this.h()},l(s){t=m(s,"DIV",{class:!0});var n=d(t);o=m(n,"DIV",{class:!0});var f=d(o);D(r.$$.fragment,f),f.forEach(_),i=E(n),e&&e.l(n),n.forEach(_),this.h()},h(){p(o,"class","sidebar-wrapper svelte-33z7dr"),p(t,"class","layout-grid svelte-33z7dr")},m(s,n){j(s,t,n),g(t,o),q(r,o,null),g(t,i),e&&e.m(t,null),a=!0},p(s,[n]){const f={};n&1&&(f.recentPosts=s[0]),n&2&&(f.allCategories=s[1]),r.$set(f),e&&e.p&&(!a||n&4)&&z(e,c,s,s[2],a?M(c,s[2],n,null):I(s[2]),null)},i(s){a||(h(r.$$.fragment,s),h(e,s),a=!0)},o(s){v(r.$$.fragment,s),v(e,s),a=!1},d(s){s&&_(t),R(r),e&&e.d(s)}}}const F=async({fetch:l})=>{await l("/api/rss.xml");const o=await(await l("/api/posts.json")).json(),r=o.posts.map(a=>({slug:a.slug,title:a.title})).slice(0,5),i=Array.from(new Set(o.posts.flatMap(a=>a.categories)));return{props:{recentPosts:r,allCategories:i}}};function H(l,t,o){let{$$slots:r={},$$scope:i}=t,{recentPosts:a}=t,{allCategories:c}=t;return V(()=>{k()||a.forEach(e=>{A(`/blog/${e.slug}`)})}),l.$$set=e=>{"recentPosts"in e&&o(0,a=e.recentPosts),"allCategories"in e&&o(1,c=e.allCategories),"$$scope"in e&&o(2,i=e.$$scope)},[a,c,i,r]}class G extends y{constructor(t){super();C(this,t,H,B,b,{recentPosts:0,allCategories:1})}}export{G as default,F as load};
